<!doctype html>
<html>
    <head>
        <title>Mobile Web APIs</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="Thomas A. Valletta" />
        <meta name="author" content="Gabriel Dayley" />
        <link href="css/impress.css" rel="stylesheet" />
        <link href="css/prettify.css" rel="stylesheet" />
        <script type="text/javascript" src='js/jquery-1.8.2.min.js'></script>
        <script type="text/javascript" src='js/prettify.js'></script>
        <style type="text/css">
        	pre.prettyprint {
				font-family: "Courier New", Monaco, "Lucida Console", monospace;
				font-weight: bold;
        	}
        </style>
    </head>
    <body onload='prettyPrint()'>
		<p class="fallback-message">
		    Your browser doesn't support impress.js.  Try Chrome or Safari.
		</p>
		<div id="impress">
			<div id="title" class="step" data-x="600" data-y="0" data-z="-500" data-rotate-y="-75">
			    <h1>Mobile Web APIs</h1>
			    <h4>By Gabriel Dayley &amp; Thomas A. Valletta</h4>
			</div>
			<div class="step" data-x="0" data-y="0" data-z="0">
				<h2>Intro</h2>
			</div>
			<div class="step" data-x="50" data-y="100" data-z="-100">
				<h4>Gabriel Dayley</h4>
			</div>
			<div class="step" data-x="50" data-y="200" data-z="-100">
				<h4>Thomas A. Valletta</h4>
			</div>
			<div class="step" data-x="0" data-y="800" data-z="">
				<h2>Mobile Web APIs</h2>
			</div>
			<div class="step" data-x="0" data-y="1600" data-z="">
				
			</div>
			<div class="step" data-x="100" data-y="1100" data-z="-800" data-scale=".8" data-focus='ambient'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1058" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
window.addEventListener(
  'devicelight', 
  function(event) {
    console.log(event.value);
  }
);
</pre>
			</div>
			<div class="step" data-x="100" data-y="1173" data-z="-800" data-scale=".8" data-focus='archive'>
			
			</div>
			<div class="step" data-x="426.5" data-y="1131" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js' style='position: relative; left: -240px'>
var blob = ...;
var reader = ArchiveReader(blob);
 
var h = reader.getFilenames();
h.onerror = function() { ... }
h.onsuccess = function() {
  for (var i = 0; i < this.result.length; ++i) {
    something(this.result[i]);
  }
}
</pre>	
			</div>
			<div class="step" data-x="100" data-y="1246" data-z="-800" data-scale=".8" data-focus='battery'>
				
			</div>
			<div class="step" data-x="100" data-y="1204" data-z="-800" data-scale=".08">
				
			</div>
			<div class="step" data-x="100" data-y="1319" data-z="-800" data-scale=".8" data-focus='geolocation'>
				
			</div>
			<div class="step" data-x="100" data-y="1392" data-z="-800" data-scale=".8" data-focus='file'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1350" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
var lockedFile = myFile.open();
var request = lockedFile.readAsText(3);
request.onsuccess = function(event) {
  var text = event.target.result;
  // 3 characters have been read.
}
</pre>
			</div>
			<div class="step" data-x="100" data-y="1465" data-z="-800" data-scale=".8" data-focus='idle'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1423" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
navigator.addIdelObserver({
  time: 10, // seconds
  onidle: idleHandler, // fn
  onactive: activeHandler // fn
});
</pre>
			</div>
			<div class="step" data-x="100" data-y="1538" data-z="-800" data-scale=".8" data-focus='indexed'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1496" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js' style='position: relative; left: -240px'>
var request = indexedDB.open('AddressBook', 15);
request.onsuccess = function(evt) {...};
request.onerror = function(evt) {...};
</pre>
			</div>
			<div class="step" data-x="100" data-y="1611" data-z="-800" data-scale=".8" data-focus='media'>
				
			</div>
			<div class="step" data-x="100" data-y="1684" data-z="-800" data-scale=".8" data-focus='mouse'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1642" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
elem.requestPointerLock = 
  elem.requestPointerLock ||
  elem.mozRequestPointerLock ||
  elem.webkitRequestPointerLock;
elem.requestPointerLock();
</pre>
			</div>
			<div class="step" data-x="100" data-y="1757" data-z="-800" data-scale=".8" data-focus='network'>
				
			</div>
			<div class="step" data-x="100" data-y="1830" data-z="-800" data-scale=".8" data-focus='open'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1788" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
navigator.mozApps.install();
navigator.mozApps.getSelf();
navigator.mozApps.getInstalled();
</pre>
			</div>
			<div class="step" data-x="100" data-y="1903" data-z="-800" data-scale=".8" data-focus='proximity'>
				
			</div>
			<div class="step" data-x="426.5" data-y="1861" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js' style='position: relative; left: -250px'>
window.addEventListener("userproximity", fn, true);
function fn(event) {
  if (event.near) 
    console.log("Near");
  else
    console.log("Far");
}
</pre>
			</div>
			<div class="step" data-x="100" data-y="1976" data-z="-800" data-scale=".8" data-focus='screen'>
				
			</div>
			<div class="step" data-x="100" data-y="2049" data-z="-800" data-scale=".8" data-focus='sms'>
				
			</div>
			<div class="step" data-x="426.5" data-y="2007" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
// Done but not shipped :(
window.addEventListener(
  'smsevent', 
  function(event) {
    switch(event.type) {
      case 'smssent': ...
      case 'smsdelivered': ...
      case 'smsreceived': ...
    }
  }
);
</pre>
			</div>
			<div class="step" data-x="100" data-y="2122" data-z="-800" data-scale=".8" data-focus='time'>
				
			</div>
			<div class="step" data-x="426.5" data-y="2080" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js'>
// Based on the proposal
var clock = navigator.timeManager;
clock.set(date); // Date Object
clock.set(ticks); // POSIX time
</pre>
			</div>
			<div class="step" data-x="100" data-y="2195" data-z="-800" data-scale=".8" data-focus='telephony'>
				
			</div>
			<div class="step" data-x="426.5" data-y="2153" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js' style='position: relative; left: -240px; font-size: 36px'>
var call = navigator.mozTelephony.dial("8012401000");
call.addEventListener('readystatechange', function() {
	console.log('readyState');
})

navigator.mozTelephony.addEventListener('incoming', 
  function(event)) {
    call = navigator.mozTelephony.liveCalls[0];
    console.log('Call from: ' + call.number);
  }
);
</pre>
			</div>
			<div class="step" data-x="100" data-y="2268" data-z="-800" data-scale=".8" data-focus='vibration'>
				
			</div>
			<div class="step" data-x="426.5" data-y="2226" data-z="-800" data-scale=".08">
<pre class='prettyprint lang-js' style='position: relative; left: -100px'>
navigator.mozVibrate(600);
navigator.mozVibrate([200, 100, 200, 100]);
navigator.mozVibrate(0);
</pre>
			</div>
			<div class="step" data-x="0" data-y="1600" data-z=""></div>
			<div class="step clarify" data-x="0" data-y="1600" data-z="-800">
		    	<table cellspacing="4">
		    		<tbody>
			    		<tr class='header'>
			    			<td></td>
			    			<td>Desktop</td>
			    			<td>Mobile</td>
			    			<td>Detail</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='ambient'>
			    			<td class='title'>Ambient Light Sensor</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td class='detail'>&nbsp;</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='archive'>
			    			<td class='title'>Archive</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td class='detail'>&nbsp;</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='battery'>
			    			<td class='title'>*Battery</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td class='detail'>&nbsp;</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='geolocation'>
			    			<td class='title'>*Geolocation</td>
			    			<td></td>
			    			<td>√</td>
			    			<td class='detail'>&nbsp;</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='file'>
			    			<td class='title'>File Handle</td>
			    			<td></td>
			    			<td>√</td>
			    			<td class='detail'>&nbsp;</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='idle'>
			    			<td class='title'>Idle</td>
			    			<td>√</td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='indexed'>
			    			<td class='title'>Indexed DB</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='media'>
			    			<td class='title'>*Media Capture</td>
			    			<td>√</td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='mouse'>
			    			<td class='title'>Mouse Lock</td>
			    			<td>√</td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='network'>
			    			<td class='title'>*Network Info</td>
			    			<td>√</td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='open'>
			    			<td class='title'>Open WebApps</td>
			    			<td>√</td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='proximity'>
			    			<td class='title'>Proximity Sensor</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='screen'>
			    			<td class='title'>*Screen Orientation</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='sms'>
			    			<td class='title'>SMS</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='time'>
			    			<td class='title'>Time/Clock</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='telephony'>
			    			<td class='title'>Telephony</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='vibration'>
			    			<td class='title'>*Vibration</td>
			    			<td></td>
			    			<td>√</td>
			    		</tr>
			    	</tbody>
		    	</table>
			</div>
			<div class="step" data-x="0" data-y="3400" data-z=""></div>
			<div class="step clarify" data-x="0" data-y="3400" data-z="-800">
		    	<table>
		    		<tbody>
			    		<tr class='header'>
			    			<td></td>
			    			<td>Desktop</td>
			    			<td>Mobile</td>
			    			<td>Detail</td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Alarm</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Bluetooth</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Browser</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Contacts</td>
			    			<td></td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Device Storage</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Mobile Connection</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Permissions</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Power Management</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='c'>
			    			<td class='title'>Push Notifications</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>Settings</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>TCP Socket</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>Web Activities</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>Web FM</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>Web Payments</td>
			    			<td></td>
			    			<td></td>
			    			<td></td>
			    		</tr>
			    		<tr class='focus' data-focus-id='d'>
			    			<td class='title'>WiFi Information</td>
			    			<td>√</td>
			    			<td>√</td>
			    			<td></td>
			    		</tr>
			    	</tbody>
		    	</table>
			</div>


			<div  class="step" data-x="200" data-y="800" data-z="300" data-rotate-y="10">

			</div>
 			<div class="step invisible" data-x="-250" data-y="300" data-rotate-x="20" data-rotate-y="-50" data-rotate-z="70" data-scale="1">
			    <br/><br/><br/><br/><br/>
			    <h6>Thanks!</h6>
			</div>
		</div>
    <script type="text/javascript" src="js/impress.js"></script>
    <script>
    	var el = document.getElementById("impress");
    	impress().init();

    	var focusList = [];

    	el.addEventListener("impress:stepenter", function (event) {
    		var focus = $(event.target).attr('data-focus');
    		if (focus) {
    			var $target = $('.focus[data-focus-id="' + focus + '"]');
    			if ($target[0]) {
	    			$target.addClass('clarify');
	    			focusList.push($target);
    			}
    		}
        }, false);

    	el.addEventListener("impress:stepleave", function (event) {
    		for (var i = 0, cnt = focusList.length; i < cnt; i++) {
    			focusList[i].removeClass('clarify');
    		}
    		focusList = [];
        }, false);

    </script>
    </body>
</html>